<div class="col-md-4 mb-4">
  <div class="card h-100 shadow-sm">
    <a href="{{ screenshot.image.url }}"
       data-fancybox="gallery"
       data-download-src="{{ screenshot.image.url }}"
       data-caption="<a style='text-decoration: none; color: inherit;' href='{% url 'media_detail' screenshot.media_item.slug %}'>{{ screenshot.media_item.title }}</a>">
      <img src="{{ screenshot.image.url }}" class="card-img-top" alt="..."
           style="height: 200px; object-fit: cover;">
    </a>
    <div class="card-body d-flex flex-column">
      <h5 class="card-title">{{ screenshot.media_item.title }}</h5>
      <div class="mt-auto">
        <p class="small">
          {% for tag in screenshot.tags.all %}
            <a href="{% url 'search_results' %}?q={{ tag.name }}" class="badge bg-secondary text-decoration-none">
              {{ tag.name }}
            </a>
          {% endfor %}
        </p>

        <div class="d-flex justify-content-between align-items-center mt-2">
          <a href="{% url 'media_detail' screenshot.media_item.slug %}" class="btn btn-primary btn-sm">View
            Movie</a>
          {% if user.is_authenticated %}
            <a href="{% url 'toggle_favorite' screenshot.pk %}" class="text-decoration-none like-btn"
               data-id="{{ screenshot.pk }}">
              {% if user in screenshot.favorites.all %}
                <span id="heart-icon-{{ screenshot.pk }}">‚ù§Ô∏è</span>
                <span id="heart-text-{{ screenshot.pk }}" class="text-danger">Saved</span>
              {% else %}
                <span id="heart-icon-{{ screenshot.pk }}">ü§ç</span>
                <span id="heart-text-{{ screenshot.pk }}" class="text-muted">Save</span>
              {% endif %}
            </a>
          {% else %}
            <a href="{% url 'account_login' %}" class="text-muted text-decoration-none" title="Log in to save">
              ü§ç Save
            </a>
          {% endif %}
        </div>

      </div>
    </div>
  </div>
</div>